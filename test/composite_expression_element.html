<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <title>Seanox aspect-js test environment</title>
    <style type="text/css">
      body {
        font-family:monospace;
        white-space:pre;
      }
    </style>
    <script src="aspect-js.js"></script>
    <script src="composite_expression.js"></script>
    <script type="text/javascript">
    
        Test.create({test:function() {
            var type = String(navigator.userAgent.match(/edge/i) || navigator.userAgent.match(/chrome/i) || "firefox").toLowerCase();
            Assert.assertEqualsTo("script[type='text/test-" + type + "']", document.body.innerHTML);
        }});
        
        Composite.listen(Composite.EVENT_RENDER_END, function() {
            if (Test.status().queue != null)
                return;    
            var element = document.querySelector("#InputTextA");
            if (element.value != "A1")
                return;
            element.value = "";
            element.typeValue("Hallo Berlin");
            Test.start();
        });
    </script>
    <script type="text/test-edge">
      A1-O: Hallo Berlin
      A1-I: <input id="InputTextA" type="text" value="A1">
      A1-O: Hallo Berlin
    </script>
    <script type="text/test-chrome">
      A1-O: Hallo Berlin
      A1-I: <input type="text" id="InputTextA" value="A1">
      A1-O: Hallo Berlin
    </script>
    <script type="text/test-firefox">
      A1-O: Hallo Berlin
      A1-I: <input type="text" id="InputTextA" value="A1">
      A1-O: Hallo Berlin
    </script>
  </head>
  <body>
    A1-O: {{#InputTextA.value}}
    A1-I: <input type="text" id="InputTextA" value="A1" events="change keydown keyup" render="body"/>
    A1-O: {{#InputTextA.value}}
  </body>
</html>