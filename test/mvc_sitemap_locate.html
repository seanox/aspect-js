<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <title>Seanox aspect-js test environment</title>
    <style type="text/css">
      body {
        font-family:monospace;
        white-space:pre;
      }
    </style>
    <script src="aspect-js.js"></script>
    <script type="text/javascript">
    
        Test.activate();
      
        SiteMap.customize({
            "#": ["news", "projects", "seanox", "contact", "contact#about"],
            "#projects#aspect": ["description", "features", "licence", "requirement", "download"],
            "#projects#aspect-js": ["description", "features", "licence", "requirement", "download"],
            "#projects#devwex": ["description", "features", "licence", "requirement", "download"],
            "#projects#review": ["description", "features", "licence", "requirement", "download"],
            "#projects#roundup": ["description", "features", "licence", "requirement", "download"],
            "#projects#test": ["description", "features", "licence", "requirement", "download"],
            "#projects#wotexx": ["description", "features", "licence", "requirement", "download"],
            "#legal": ["terms", "privacy"],
            "#error": null
        });
        
        var tests = [
            "#",
            "#project",
            "#projects",
            "#projects#xyz",
            "#projects#devwex",
            "#projects#devwexx",
            "#projects#devwex#xyz",
            "#projects#devwex#description",      
            "#projects#devwex#description#features",
            "#projects#devwex#description#features#licence",
            "#projects#devwex#features",
            "#projects#devwex#licence",
            "#projects#devwex#licence#x",
            "#projects#devwex#licence#x#y",
            "#projects#devwex#licence#x#y#z",
            "#projects#devwex#licence##x",
            "#projects#devwex#licence###x###y",
            "#projects#devwex#licence####x####y####z",
            "#projects#devwex#licence#1#2#3",
            "#projects#review",      
            "#projects#review#description",      
            "#projects#review#features",      
            "#projects#review#licence",         
            "#projects#wotexx",      
            "#projects#wotexx#description",      
            "#projects#wotexx#features",      
            "#projects#wotexx#licence",     
            "#projects#wotexx#licence#",     
            "#projects#wotexx#licence##",     
            "#projects#wotexx#licence###",     
            "#projects#wotexx#licence####",
            "#projects#aspect-js",
            "#projects#aspect-js#",
            "#projects#aspect-js#1",
            "#projects#aspect-js#1#2",
            "#projects#aspect-js#1##2",
            "#x",
            "#x#",
            "#x##",
            "#x###",
            "#x####",
            "#"            
        ];         
  
        Test.create({test() {
            document.location.href = "#";
            document.body.innerHTML = "";
            tests.forEach((test, index, array) => {
                document.body.innerHTML = document.body.innerHTML.trim();
                if (document.body.innerHTML)
                    document.body.innerHTML += "\r\n";
                document.body.innerHTML += "A: " + test
                        + "\r\nB: " + SiteMap.locate(test);
            });
            document.body.innerHTML += "\r\n-----------\r\n";
            tests.forEach((test, index, array) => {
                document.body.innerHTML = document.body.innerHTML.trim();
                if (document.body.innerHTML)
                    document.body.innerHTML += "\r\n";
                document.body.innerHTML += "A: " + test
                        + "\r\nB: " + SiteMap.locate(test, true);
            });            
            Assert.assertSameTo("script[type='text/test1']", document.body.textContent);
        }});
        
        Test.create({test() {
            SiteMap.forward("#projects");
            document.body.innerHTML = "";
            var filter = /^#projects#/;
            tests.forEach((test, index, array) => {
                document.body.innerHTML = document.body.innerHTML.trim();
                if (document.body.innerHTML)
                    document.body.innerHTML += "\r\n";
                if (test.match(filter))
                    test = test.replace(filter, "");
                document.body.innerHTML += "A: " + test
                        + "\r\nB: " + SiteMap.locate(test);
            });
            document.body.innerHTML += "\r\n-----------\r\n";
            tests.forEach((test, index, array) => {
                document.body.innerHTML = document.body.innerHTML.trim();
                if (document.body.innerHTML)
                    document.body.innerHTML += "\r\n";
                if (test.match(filter))
                    test = test.replace(filter, "");
                document.body.innerHTML += "A: " + test
                        + "\r\nB: " + SiteMap.locate(test, true);
            });            
            Assert.assertSameTo("script[type='text/test2']", document.body.textContent);
        }});        
        
        Test.start({auto:true});
    </script>
    <script type="text/test1">
A: #
B: #
A: #project
B: #
A: #projects
B: #projects
A: #projects#xyz
B: #projects
A: #projects#devwex
B: #projects#devwex
A: #projects#devwexx
B: #projects
A: #projects#devwex#xyz
B: #projects#devwex
A: #projects#devwex#description
B: #projects#devwex#description
A: #projects#devwex#description#features
B: #projects#devwex#description
A: #projects#devwex#description#features#licence
B: #projects#devwex#description
A: #projects#devwex#features
B: #projects#devwex#features
A: #projects#devwex#licence
B: #projects#devwex#licence
A: #projects#devwex#licence#x
B: #projects#devwex#licence
A: #projects#devwex#licence#x#y
B: #projects#devwex#licence
A: #projects#devwex#licence#x#y#z
B: #projects#devwex#licence
A: #projects#devwex#licence##x
B: #projects#devwex
A: #projects#devwex#licence###x###y
B: #
A: #projects#devwex#licence####x####y####z
B: #
A: #projects#devwex#licence#1#2#3
B: #projects#devwex#licence
A: #projects#review
B: #projects#review
A: #projects#review#description
B: #projects#review#description
A: #projects#review#features
B: #projects#review#features
A: #projects#review#licence
B: #projects#review#licence
A: #projects#wotexx
B: #projects#wotexx
A: #projects#wotexx#description
B: #projects#wotexx#description
A: #projects#wotexx#features
B: #projects#wotexx#features
A: #projects#wotexx#licence
B: #projects#wotexx#licence
A: #projects#wotexx#licence#
B: #projects#wotexx#licence
A: #projects#wotexx#licence##
B: #projects#wotexx
A: #projects#wotexx#licence###
B: #projects
A: #projects#wotexx#licence####
B: #
A: #projects#aspect-js
B: #projects#aspect-js
A: #projects#aspect-js#
B: #projects#aspect-js
A: #projects#aspect-js#1
B: #projects#aspect-js
A: #projects#aspect-js#1#2
B: #projects#aspect-js
A: #projects#aspect-js#1##2
B: #projects#aspect-js
A: #x
B: #
A: #x#
B: #
A: #x##
B: #
A: #x###
B: #
A: #x####
B: #
A: #
B: #
-----------
A: #
B: #
A: #project
B: #
A: #projects
B: #
A: #projects#xyz
B: #
A: #projects#devwex
B: #projects#devwex
A: #projects#devwexx
B: #
A: #projects#devwex#xyz
B: #projects#devwex
A: #projects#devwex#description
B: #projects#devwex
A: #projects#devwex#description#features
B: #projects#devwex
A: #projects#devwex#description#features#licence
B: #projects#devwex
A: #projects#devwex#features
B: #projects#devwex
A: #projects#devwex#licence
B: #projects#devwex
A: #projects#devwex#licence#x
B: #projects#devwex
A: #projects#devwex#licence#x#y
B: #projects#devwex
A: #projects#devwex#licence#x#y#z
B: #projects#devwex
A: #projects#devwex#licence##x
B: #projects#devwex
A: #projects#devwex#licence###x###y
B: #
A: #projects#devwex#licence####x####y####z
B: #
A: #projects#devwex#licence#1#2#3
B: #projects#devwex
A: #projects#review
B: #projects#review
A: #projects#review#description
B: #projects#review
A: #projects#review#features
B: #projects#review
A: #projects#review#licence
B: #projects#review
A: #projects#wotexx
B: #projects#wotexx
A: #projects#wotexx#description
B: #projects#wotexx
A: #projects#wotexx#features
B: #projects#wotexx
A: #projects#wotexx#licence
B: #projects#wotexx
A: #projects#wotexx#licence#
B: #projects#wotexx
A: #projects#wotexx#licence##
B: #projects#wotexx
A: #projects#wotexx#licence###
B: #
A: #projects#wotexx#licence####
B: #
A: #projects#aspect-js
B: #projects#aspect-js
A: #projects#aspect-js#
B: #projects#aspect-js
A: #projects#aspect-js#1
B: #projects#aspect-js
A: #projects#aspect-js#1#2
B: #projects#aspect-js
A: #projects#aspect-js#1##2
B: #projects#aspect-js
A: #x
B: #
A: #x#
B: #
A: #x##
B: #
A: #x###
B: #
A: #x####
B: #
A: #
B: #
    </script>
    <script type="text/test2">
A: #
B: #
A: #project
B: #
A: #projects
B: #projects
A: xyz
B: #projects
A: devwex
B: #projects#devwex
A: devwexx
B: #projects
A: devwex#xyz
B: #projects#devwex
A: devwex#description
B: #projects#devwex#description
A: devwex#description#features
B: #projects#devwex#description
A: devwex#description#features#licence
B: #projects#devwex#description
A: devwex#features
B: #projects#devwex#features
A: devwex#licence
B: #projects#devwex#licence
A: devwex#licence#x
B: #projects#devwex#licence
A: devwex#licence#x#y
B: #projects#devwex#licence
A: devwex#licence#x#y#z
B: #projects#devwex#licence
A: devwex#licence##x
B: #projects#devwex
A: devwex#licence###x###y
B: #
A: devwex#licence####x####y####z
B: #
A: devwex#licence#1#2#3
B: #projects#devwex#licence
A: review
B: #projects#review
A: review#description
B: #projects#review#description
A: review#features
B: #projects#review#features
A: review#licence
B: #projects#review#licence
A: wotexx
B: #projects#wotexx
A: wotexx#description
B: #projects#wotexx#description
A: wotexx#features
B: #projects#wotexx#features
A: wotexx#licence
B: #projects#wotexx#licence
A: wotexx#licence#
B: #projects#wotexx#licence
A: wotexx#licence##
B: #projects#wotexx
A: wotexx#licence###
B: #projects
A: wotexx#licence####
B: #
A: aspect-js
B: #projects#aspect-js
A: aspect-js#
B: #projects#aspect-js
A: aspect-js#1
B: #projects#aspect-js
A: aspect-js#1#2
B: #projects#aspect-js
A: aspect-js#1##2
B: #projects#aspect-js
A: #x
B: #
A: #x#
B: #
A: #x##
B: #
A: #x###
B: #
A: #x####
B: #
A: #
B: #
-----------
A: #
B: #
A: #project
B: #
A: #projects
B: #
A: xyz
B: #
A: devwex
B: #projects#devwex
A: devwexx
B: #
A: devwex#xyz
B: #projects#devwex
A: devwex#description
B: #projects#devwex
A: devwex#description#features
B: #projects#devwex
A: devwex#description#features#licence
B: #projects#devwex
A: devwex#features
B: #projects#devwex
A: devwex#licence
B: #projects#devwex
A: devwex#licence#x
B: #projects#devwex
A: devwex#licence#x#y
B: #projects#devwex
A: devwex#licence#x#y#z
B: #projects#devwex
A: devwex#licence##x
B: #projects#devwex
A: devwex#licence###x###y
B: #
A: devwex#licence####x####y####z
B: #
A: devwex#licence#1#2#3
B: #projects#devwex
A: review
B: #projects#review
A: review#description
B: #projects#review
A: review#features
B: #projects#review
A: review#licence
B: #projects#review
A: wotexx
B: #projects#wotexx
A: wotexx#description
B: #projects#wotexx
A: wotexx#features
B: #projects#wotexx
A: wotexx#licence
B: #projects#wotexx
A: wotexx#licence#
B: #projects#wotexx
A: wotexx#licence##
B: #projects#wotexx
A: wotexx#licence###
B: #
A: wotexx#licence####
B: #
A: aspect-js
B: #projects#aspect-js
A: aspect-js#
B: #projects#aspect-js
A: aspect-js#1
B: #projects#aspect-js
A: aspect-js#1#2
B: #projects#aspect-js
A: aspect-js#1##2
B: #projects#aspect-js
A: #x
B: #
A: #x#
B: #
A: #x##
B: #
A: #x###
B: #
A: #x####
B: #
A: #
B: #
    </script>
  </head>
  <body>
  </body>
</html>