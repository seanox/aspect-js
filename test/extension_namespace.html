<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <title>Seanox aspect-js test environment</title>
    <style type="text/css">
      body {
        font-family:monospace;
        white-space:pre;
      }
    </style>
    <script src="../sources/extension.js"></script>
    <script src="../sources/test.js"></script>
    <script src="../sources/testutils.js"></script>
    <script type="text/javascript">
    
      Test.create({test:function() {
          Assert.assertNotEquals("undefined", typeof Namespace);
          Assert.assertEquals("object", typeof Namespace);
          Assert.assertEquals("function", typeof Namespace.using);
      }});

      Test.create({test:function() {
          Assert.assertNull(Namespace.using());
          Assert.assertNull(Namespace.using(null));
      }});

      Test.create({expected:TypeError, test:function() {
          Namespace.using(false);
      }});

      Test.create({expected:/\bInvalid namespace(?!:)/i, test:function() {
          Namespace.using(" ");
      }});

      Test.create({expected:/\bInvalid namespace:\s+\?/i, test:function() {
          Namespace.using("?");
      }});

      Test.create({test:function() {
          Assert.assertEquals("undefined", typeof x0001);
          Assert.assertEquals("object", typeof Namespace.using("x0001"));
          Assert.assertEquals("object", typeof Namespace.using("x0001.a"));
          Assert.assertEquals("object", typeof Namespace.using("x0001.a.b.c.d"));
          Assert.assertEquals("object", typeof x0001);
          Assert.assertEquals("object", typeof x0001.a);
          Assert.assertEquals("object", typeof x0001.a.b);
          Assert.assertEquals("object", typeof x0001.a.b.c);
          Assert.assertEquals("object", typeof x0001.a.b.c.d);
      }});

      Test.create({test:function() {
          Assert.assertEquals("undefined", typeof x0002);
          Assert.assertEquals("object", typeof Namespace.using("x0002"));
          Assert.assertEquals("object", typeof Namespace.using("x0002/a"));
          Assert.assertEquals("object", typeof Namespace.using("x0002/a/b/c/d"));
          Assert.assertEquals("object", typeof x0002);
          Assert.assertEquals("object", typeof x0002.a);
          Assert.assertEquals("object", typeof x0002.a.b);
          Assert.assertEquals("object", typeof x0002.a.b.c);
          Assert.assertEquals("object", typeof x0002.a.b.c.d);
      }});

      Test.create({test:function() {
          Assert.assertEquals("undefined", typeof x0003);
          Assert.assertEquals("object", typeof Namespace.using("x0003"));
          Assert.assertEquals("object", typeof Namespace.using("x0003\\a"));
          Assert.assertEquals("object", typeof Namespace.using("x0003\\a\\b\\c\\d"));
          Assert.assertEquals("object", typeof x0003);
          Assert.assertEquals("object", typeof x0003.a);
          Assert.assertEquals("object", typeof x0003.a.b);
          Assert.assertEquals("object", typeof x0003.a.b.c);
          Assert.assertEquals("object", typeof x0003.a.b.c.d);
      }});

      Test.create({expected:/\bInvalid namespace:\s+x0001\.a\.b\. \.d/i, test:function() {
          Namespace.using("x0001.a.b. .d");
      }});  

      Test.create({expected:/\bInvalid namespace:\s+x0002\/a\/b\/\?\/d/i, test:function() {
          Namespace.using("x0002/a/b/?/d")
      }});  

      Test.create({expected:/\bInvalid namespace:\s+x0003\\a\\b\\\*\\d/i, test:function() {
          Namespace.using("x0003\\a\\b\\*\\d")
      }});  
      
      Test.create({expected:/\bInvalid namespace:\s+x0004\.a\/b\.c\.d/i, test:function() {
          Namespace.using("x0004.a/b.c.d");
      }});      
      
      Test.create({expected:/\bInvalid namespace:\s+x0004\.a\.b\\c\.d/i, test:function() {
          Namespace.using("x0004.a.b\\c.d");
      }});      
      
      Test.create({test:function() {
          Namespace.using("\\x0005\\a");
          Namespace.using("\\\\x0005\\a");
          Namespace.using("/x0005/a");
          Namespace.using("////x0005/a");     
      }}); 
      
      Test.create({expected:/\bInvalid namespace: \\\\x0005\\\\a/i, test:function() {
          Namespace.using("\\\\x0005\\\\a");
      }}); 
      
      Test.create({expected:/\bInvalid namespace: \/\/x0005\/\/a/i, test:function() {
          Namespace.using("//x0005//a");
      }}); 

      Test.create({expected:/\bInvalid namespace: \.x0005\.a/i, test:function() {
          Namespace.using(".x0005.a");
      }});
      
      Test.create({expected:/\bInvalid namespace: \.\.x0005\.a/i, test:function() {
          Namespace.using("..x0005.a");
      }}); 
      
      var object1 = {
              a:null,
              b:"",
              c:123,
              d:new Date(),
              e:{},
              f:function() {}
      };
      
      Test.create({test:function() {
          Namespace.using("object1");
          Namespace.using("object1.d");
          Namespace.using("object1.e");
          Namespace.using("object1.f");
      }});

      Test.create({expected:/\bInvalid namespace: object1\.a/i, test:function() {
          Namespace.using("object1.a");
      }}); 
      Test.create({expected:/\bInvalid namespace: object1\.b/i, test:function() {
          Namespace.using("object1.b");
      }});
      Test.create({expected:/\bInvalid namespace: object1\.c/i, test:function() {
          Namespace.using("object1.c");
      }});      
      
      Test.start(true);
    </script>
  </head>
  <body>
  </body>
</html>